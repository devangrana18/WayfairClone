let products = [
  {
    image:
      "https://assets.wfcdn.com/im/41785328/resize-h416-w416%5Ecompr-r85/2495/249532158/Latrissa+Moroccan+Handmade+Flatweave+Wool+Charcoal/Cream+Area+Rug.jpg",
    sizes: "+8",
    name: `Latrissa Moroccan Handmade FlatweaveWool`,
    manufacturer: "by Wade Logan",
    price: "33.99",
    rating: "⭐⭐⭐⭐",
    deliveryDays: "2-day Delivery",
    category: "rugs",
  },
  {
    image:
      "https://assets.wfcdn.com/im/21228098/resize-h416-w416%5Ecompr-r85/1714/171459248/Hillsby+Oriental+Rug.jpg",
    sizes: "+32",
    name: "Hillsby Oriental Rug ",
    manufacturer: "by Mistana",
    price: "23.99",
    rating: "⭐⭐⭐⭐",
    deliveryDays: "3-day Delivery",

    category: "rugs",
  },
  {
    image:
      "https://assets.wfcdn.com/im/97188764/resize-h416-w416%5Ecompr-r85/2212/221290429/Albion+Rug.jpg",
    sizes: "+8",
    name: `Feagin Floral Rug `,
    manufacturer: "by Mistana",
    price: "22.99",
    rating: "⭐⭐⭐⭐",
    deliveryDays: "2-day Delivery",
    category: "rugs",
  },
  {
    image:
      "https://assets.wfcdn.com/im/38548023/resize-h416-w416%5Ecompr-r85/5213/52136607/Hillsby+Oriental+Rug.jpg",
    sizes: "+6",
    name: `Albion Rug`,
    manufacturer: "by Mistana",
    price: "36.99",
    rating: "⭐⭐⭐⭐",
    deliveryDays: "2-day Delivery",
    category: "rugs",
  },
  {
    image:
      "https://assets.wfcdn.com/im/01690096/resize-h416-w416%5Ecompr-r85/2410/241094333/Calvo+Light+Beige/Charcoal+Area+Rug.jpg",
    sizes: "+15",
    name: `calvo Light Baige`,
    manufacturer: "by Mistana",
    price: "29.99",
    rating: "⭐⭐⭐⭐",
    deliveryDays: "2-day Delivery",
    category: "rugs",
  },
  {
    image:
      "https://assets.wfcdn.com/im/90857124/resize-h416-w416%5Ecompr-r85/2375/237540707/Steve+Abstract+Rug.jpg",
    sizes: "+4",
    name: `Steve ABstruct Rug`,
    manufacturer: "by Steel Side",
    price: "29.99",
    rating: "⭐⭐⭐",
    deliveryDays: "1-day Delivery",
    category: "rugs",
  },
  {
    image:
      "https://assets.wfcdn.com/im/55798480/resize-h416-w416%5Ecompr-r85/2342/234289128/Benfield+Beige+Machine+Washable+Area+Rug.jpg",
    sizes: "+21",
    name: `Bartletto Beige Shag Area Rugl`,
    manufacturer: "by Mistana",
    price: "33.99",
    rating: "⭐⭐⭐⭐",
    deliveryDays: "2-day Delivery",
    category: "rugs",
  },
  {
    image:
      "https://assets.wfcdn.com/im/17400056/resize-h416-w416%5Ecompr-r85/1851/185162592/Flatiron+Oriental+Rug.jpg",
    sizes: "+83",
    name: `Banuelos Striped Rug`,
    manufacturer: "by Mistana",
    price: "33.99",
    rating: "⭐⭐⭐⭐⭐",
    deliveryDays: "2-day Delivery",
    category: "rugs",
  },
  {
    image:
      "https://assets.wfcdn.com/im/54290895/resize-h416-w416%5Ecompr-r85/2036/203693452/Fegan+Rug.jpg",
    sizes: "+13",
    name: `Bellino Striped Indoor/Outdoor Area Rug`,
    manufacturer: "by Mistana",
    price: "33.99",
    rating: "⭐⭐⭐⭐",
    deliveryDays: "2-day Delivery",
    category: "rugs",
  },
  {
    image:
      "https://assets.wfcdn.com/im/72249090/resize-h416-w416%5Ecompr-r85/2638/263850481/Feagin+Floral+Rug.jpg",
    sizes: "+12",
    name: `Flatiron Oriental Rug `,
    manufacturer: "by Mistana",
    price: "33.99 - 859.99",
    rating: "⭐⭐",
    deliveryDays: "2-day Delivery",
    category: "rugs",
  },
  {
    image:
      "https://assets.wfcdn.com/im/41785328/resize-h416-w416%5Ecompr-r85/2495/249532158/Latrissa+Moroccan+Handmade+Flatweave+Wool+Charcoal/Cream+Area+Rug.jpg",
    sizes: "+8",
    name: `Banuelos Striped Rug`,
    manufacturer: "by Mistana",
    price: "33.99 - 859.99",
    rating: "⭐⭐⭐⭐⭐",
    deliveryDays: "2-day Delivery",
    category: "rugs",
  },
  {
    image:
      "https://assets.wfcdn.com/im/38281299/resize-h416-w416%5Ecompr-r85/1246/124640746/Ceslie+Gray/Charcoal+Area+Rug.jpg",
    sizes: "+8",
    name: `Cosey Abstract Navy/Gray Area Rug`,
    manufacturer: "by Mistana",
    price: "33.99 - 859.99",
    rating: "⭐⭐⭐⭐",
    deliveryDays: "2-day Delivery",
    category: "rugs",
  },
  {
    image:
      "https://assets.wfcdn.com/im/71151723/resize-h416-w416%5Ecompr-r85/1246/124651001/Banuelos+Striped+Rug.jpg",
    sizes: "+8",
    name: `Banuelos Striped Rug`,
    manufacturer: "by Mistana",
    price: "33.99 - 859.99",
    rating: "⭐⭐⭐⭐",
    deliveryDays: "2-day Delivery",
    category: "rugs",
  },
  {
    image:
      "https://assets.wfcdn.com/im/90408788/resize-h416-w416%5Ecompr-r85/2161/216194091/Cosey+Abstract+Navy/Gray+Area+Rug.jpg",
    sizes: "+8",
    name: `Calvo Light Beige/Charcoal Area Rug`,
    manufacturer: "by Mistana",
    price: "33.99 - 859.99",
    rating: "⭐⭐⭐⭐",
    deliveryDays: "2-day Delivery",
    category: "rugs",
  },
];

function createProductCard(product) {
  let card = document.createElement("div");
  card.classList.add("product-card");

  let image = document.createElement("img");
  image.classList.add("product-img");
  image.src = product.image;
  image.alt = product.name;
  card.appendChild(image);

  let sizeAvailability = document.createElement("p");
  sizeAvailability.classList.add("product-size");
  sizeAvailability.textContent = product.sizes;
  card.appendChild(sizeAvailability);

  let productName = document.createElement("h3");
  productName.classList.add("product-name");
  productName.textContent = product.name;
  card.appendChild(productName);

  let Manufactured = document.createElement("p");
  Manufactured.classList.add("product-manufacturer");
  Manufactured.textContent = product.manufacturer;
  card.appendChild(Manufactured);

  let price = document.createElement("p");
  price.classList.add("product-price");
  price.textContent = `$${product.price}`;
  card.appendChild(price);

  let rating = document.createElement("p");
  rating.classList.add("product-rating");
  rating.textContent = `Rating: ${product.rating}`;
  card.appendChild(rating);

  let deliveryDays = document.createElement("p");
  deliveryDays.classList.add("product-delivery");
  deliveryDays.textContent = product.deliveryDays;
  card.appendChild(deliveryDays);

  return card;
}

function sortProductslowToHigh(products) {
  return products.slice().sort((a, b) => {
    return parseFloat(a.price) - parseFloat(b.price);
  });
}
function sortProductsHighToLow(products) {
  return products.slice().sort((a, b) => {
    return parseFloat(b.price) - parseFloat(a.price);
  });
}

function clearConainer() {
  let cont = document.getElementById("container");
  cont.innerHTML = "";
}

function sortAndDisplayProducts(sortType) {
  clearConainer();
  let sortedProducts;
  if (sortType === "lowToHigh") {
     sortedProducts = sortProductslowToHigh(products);
  } else if (sortType === "highToLow") {
     sortedProducts = sortProductsHighToLow(products);
  } else {
     sortedProducts = sortProductslowToHigh(products);
  }
  sortedProducts.forEach((products) => {
    let productCard = createProductCard(products);
    container.appendChild(productCard);
  });
}

function addSortEventListner() {
  let lowToHighButton = document.getElementById("lowToHigh");
  let highTOLowButton = document.getElementById("highToLow");

  lowToHighButton.addEventListener("click", function () {
    sortAndDisplayProducts("lowToHigh");
  });
  highTOLowButton.addEventListener("click", function () {
    sortAndDisplayProducts("highToLow");
  });
}

function addProductCards() {
  let container = document.getElementById("container");
  products.forEach((product) => {
    let productCard = createProductCard(product);
    container.appendChild(productCard);
  });
}

window.onload = function () {
  addProductCards();
  addSortEventListner();
};
